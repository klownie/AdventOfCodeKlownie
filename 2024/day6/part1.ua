# Experimental!
&fras "day6/input"
⊜∘⊸≠@\n

Move ← (
  °¤⊚⊸[⊃(= @^|= @>|= @<|= @⌵)]
  ⨬(𝄐⌞⍜(⊙◌◌°$"_^_#_"⇌⊏⊙⍉|⊙◌⍜(⊣|">")˜↯@U⧻)⊸⊣
  | 𝄐⌞⍜(⊙◌◌°$"_>_#_"⊏|⊙◌⍜(⊣|"⌵")˜↯@V⧻)⊸⊡₁
  | 𝄐⌞⍜(⊙◌◌°$"_<_#_"⇌⊏|⊙◌⍜(⊣|"^")˜↯@W⧻)⊸⊡₁
  | 𝄐⌞⍜(⊙◌◌°$"_⌵_#_"⊏⊙⍉|⊙◌⍜(⊣|"<")˜↯@Z⧻)⊸⊣
  ) ⊸⊢
  𝄐⍜(⊡|⊙◌@X) ⊸↘1
)

Complete ← (
  °¤⊚⊸[⊃(= @^|= @>|= @<|= @⌵)]
  ⨬(𝄐⌞⍜(◌°$"_^_"⇌⊏⊙⍉|˜↯@U⧻)⊸⊣
  | 𝄐⌞⍜(◌°$"_>_"⊏|˜↯@V⧻)⊸⊡₁
  | 𝄐⌞⍜(◌°$"_<_"⇌⊏|˜↯@W⧻)⊸⊡₁
  | 𝄐⌞⍜(◌°$"_⌵_"⊏⊙⍉|˜↯@Z⧻)⊸⊣
  ) ⊸⊢
  𝄐⍜(⊡|⊙◌@X) ⊸↘1
)

⍢(Move|⍣(1◌Move|0))
Complete
⤙=@U
⤙=@V
⤙=@W
=@Z
≡≡(⊂ 0_0)
⊙≡≡(⍜↻₁ ⊂ 0_0)
⊙⊙≡≡(⍜↻₂⊂ 0_0)
⊙⊙⊙≡≡([0 . ⊙])
/+ ⊟₄
